<!-- <p-inputMask mask="99-999999" [(ngModel)]="value" placeholder="99-999999"></p-inputMask>
  <pre>{{detailsConfig?.data | json}}</pre> -->
<div class="h-full max-h-full" *apploading="detailsConfig?.isLoading">
    <eg-details-container [config]="config"
                          [(data)]="detailsConfig.data"
                          [topic]="'task'">
      <div class="w-full h-full max-w-full" content>
        <div class=" surface-card border-round w-full h-full gap-2 overflow-hidden">
          <p-scrollPanel styleClass="h-full">
            <eg-form-renderer [(detailsConfig)]="detailsConfig" [mode]="'view'"></eg-form-renderer>
          </p-scrollPanel>
        </div>
      </div>
      <div class="w-full h-full max-w-full" details>
        <div class="w-full h-full flex flex-column">
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'status', title:'Status', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'priority', title:'Priority', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'creator', title:'Creator', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'date_start_planned', title:'Created', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'date_start_actual', title:'Started', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'date_end_planned', title:'Due', layout:'table', titleClass:' innerborder-grid-bottom'}}">
          </ng-container>
          <ng-container [ngTemplateOutlet]="egTemplate"
                        [ngTemplateOutletContext]="{$implicit:{field:'date_end_actual', title:'Completed', layout:'table'}}">
          </ng-container>
        </div>
      </div>

      <div *ngIf="detailsConfig?.data?.__data__?.status as stat" [class]="'flex border-round-2xl align-items-center align-content-center h-full p-2 w-full ' + stat.color_class" status>
        <i [class]="stat.icon + ' mr-2'"></i>
        <span [class]="stat.color_class" [innerHTML]="stat.name"></span>
      </div>

    </eg-details-container>
  </div>
    <ng-template #egTemplate let-data>
      <eg-template
            [detailsConfig]="detailsConfig"
            [egClass]="'bg-gray-faded border-round p-1 w-full'"
            [field]="data.field"
            [title]="data.title"
            [isTwoLine]="true"
            [layout]="data?.layout ? data?.layout : 'flex'"
            [config]="'complete'"
            [titleClass]="data?.titleClass ? data.titleClass : ''"
            [hasTitle]="true"
            [rendererType]="'icon-name'">
      </eg-template>
    </ng-template>
